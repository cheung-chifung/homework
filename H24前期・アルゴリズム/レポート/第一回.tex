\documentclass{jsarticle}

\usepackage{otf}

\setlength{\textwidth}{\fullwidth}
\setlength{\textheight}{50\baselineskip}
\addtolength{\textheight}{\topskip}
\setlength{\voffset}{-0.2in}
\setlength{\topmargin}{0pt}
\setlength{\headheight}{0pt}
\setlength{\headsep}{0pt}
\title{2012年度計算数理応用--アルゴリズム-- 第一回レポート}
\author{東京工業大学　社会理工学研究科　チョウ シホウ　学籍番号 12M42340}

\begin{document}
\maketitle

\section{課題}
部分和問題のNP-困難性を3SATからの還元での証明。

\section{証明}
部分和問題はNPに属することは明らかなので、3SATから還元によってNPCを証明できる。
\begin{quote}
部分和問題\\
入力： 正整数の列$ S=\{s_{1},s_{2},...,s_{n}\}$, 正整数$W$。\\
仕事： 和が$W$になる$I \subset \{1,2,3, \dots, n \}$、$ \sum_{i \in I}s_{i}=W $は存在するか？
\end{quote}

ひとまず、3SAT問題の「ビット形」を作る。例えば、変数の数$n=4$、clauseの数$m=2$の論理式$(u_{1} \vee u_{2} \vee \neg u_{4} )\wedge(\neg u_{1} \vee \neg u_{3} \vee u_{4})$に対して、すべての$u_{i},i \in \{1,\dots,n\} $を真偽によってそれぞれの$T_{i}$あるいは$F_{i}$に入れて下記のように書き換える。行の種類を区別するために、すべて値が$0$の$p$列を追加しておく。

\begin{center}
\begin{tabular}{ c| c c c c c c | c }
  &  $u_{1}$ & $u_{2}$ & $u_{3}$ & $u_{4}$ & $c_{1}$ & $c_{2}$ & $p$\\
   \hline  
  $T_{1}$ & $1$ & $0$ & $0$ & $0$ & $1$ & $0$ & $0$\\
  $F_{1}$ & $1$ & $0$ & $0$ & $0$ & $0$ & $1$ & $0$\\
  $T_{2}$ & $0$ & $1$ & $0$ & $0$ & $1$ & $0$ & $0$\\
  $F_{2}$ & $0$ & $1$ & $0$ & $0$ & $0$ & $0$ & $0$\\
  $T_{3}$ & $0$ & $0$ & $1$ & $0$ & $0$ & $0$ & $0$\\
  $F_{3}$ & $0$ & $0$ & $1$ & $0$ & $0$ & $1$ & $0$\\
  $T_{4}$ & $0$ & $0$ & $0$ & $1$ & $0$ & $1$ & $0$\\
  $F_{4}$ & $0$ & $0$ & $0$ & $1$ & $1$ & $0$ & $0$\\

\end{tabular}
\end{center}

もし$u_{i}$が$j$番目（$j\in \{1,\dots,m\}$）のclauseに含まれたら、$u_{i}=true$なら$T_{i}$の$c_{j}=1$、$u_{i}=false$なら$F_{i}$の$c_{j}=0$にする。

次は、すべての行を整数にする、例えば、$T_{1}$を$1000100$の7桁の整数と見なせる。位が繰り上がらないように、底が高い進数を使う。この例では、3bits(3SAT)の場合には8進数を使えるが、便宜上10進数（8以上）にする。$S$集合から整数を選択する時に、目標値の制限があるので、$u_{i}$ごとに$T_{i}$または$F_{i}$の整数を選ばなければならない。

そして、clauseごとに、それぞれの数字が$1,2,3$の三行$S1_{l},S2_{l},S3_{l}$を追加する。すべての$S1_{l},S2_{l},S3_{l}$の$p$値を$1$にする。なお、全部のclauseのtargetを4にする。最後は、すべての行$T_{i},F_{i},S1_{l},S2_{l},S3_{l}$から集合$S$を作る。

\begin{center}
\begin{tabular}{ c| c c c c c c| c |r l }
  &  $u_{1}$ & $u_{2}$ & $u_{3}$ & $u_{4}$ & $c_{1}$ & $c_{2}$ & $p$ &\multicolumn{2}{c}{部分和問題の入力}\\
   \hline  
  $T_{1}$ & $1$ & $0$ & $0$ & $0$ & $1$ & $0$ & $0$ & $1000100$ & $=s_{1}$\\
  $F_{1}$ & $1$ & $0$ & $0$ & $0$ & $0$ & $1$ & $0$ & $1000010$ & $=s_{2}$\\
  $T_{2}$ & $0$ & $1$ & $0$ & $0$ & $1$ & $0$ & $0$ & $100100$ & $=s_{3}$\\
  $F_{2}$ & $0$ & $1$ & $0$ & $0$ & $0$ & $0$ & $0$ & $100000$ & $=s_{4}$\\
  $T_{3}$ & $0$ & $0$ & $1$ & $0$ & $0$ & $0$ & $0$ & $10000$ & $=s_{5}$\\
  $F_{3}$ & $0$ & $0$ & $1$ & $0$ & $0$ & $1$ & $0$ & $10010$ & $=s_{6}$\\
  $T_{4}$ & $0$ & $0$ & $0$ & $1$ & $0$ & $1$ & $0$ & $1010$ & $=s_{7}$\\
  $F_{4}$ & $0$ & $0$ & $0$ & $1$ & $1$ & $0$ & $0$ & $1100$ & $=s_{8}$\\
  $S1_{1}$ & $0$ & $0$ & $0$ & $0$ & $1$ & $0$ & $1$ & $101$ & $=s_{9}$\\
  $S2_{1}$ & $0$ & $0$ & $0$ & $0$ & $2$ & $0$ & $1$ & $201$ & $=s_{10}$\\
  $S3_{1}$ & $0$ & $0$ & $0$ & $0$ & $3$ & $0$ & $1$ & $301$ & $=s_{11}$\\
  $S1_{2}$ & $0$ & $0$ & $0$ & $0$ & $0$ & $1$ & $1$ & $11$ & $=s_{12}$\\
  $S2_{2}$ & $0$ & $0$ & $0$ & $0$ & $0$ & $2$ & $1$ & $21$ & $=s_{13}$\\
  $S3_{2}$ & $0$ & $0$ & $0$ & $0$ & $0$ & $3$ & $1$ & $31$ & $=s_{14}$\\
  \hline
  Target & $1$ & $1$ & $1$ & $1$ & $4$ & $4$ & $2$ & $1111442$ & $=W$\\

\end{tabular}
\end{center}

$u_{i}$ごとに真偽によって$T_{i}$または$F_{i}$の整数を選ぶ。もし論理式のclauseごとの真偽値がtrueであれば、clause列の和が必ず${1,2,3}$の一つである、その場合、和を$4$になれるために$S1_{ｊ},S2_{j},S3_{j}$から${1,2,3}$の一つを取って足せばよい。逆にあるclauseの真偽値がfalseであれば、「各clause列の和は4である」の条件を満たせない。明らかに、多項式時間内に3SATを部分和問題に還元できる。
\begin{quote}
3SAT問題の入力：変数の数$n=4$、clauseの数$m=2$の論理式。\\
SSUM問題の入力：正整数の列$S=\{s_{1},\dots,s_{k}\},k=2n+3m$と$m+n+1$桁の目標値$W$。
\end{quote}

例えば、充足可能の解$\{1,1,0,1\}$の時に、和は$1111222$である、目標値$W$に達するため、「スラックス変数」の$S2_{1},S2_{2}$を選択して足せばよい。$c_{j}$と$p$列の制限があるので、「スラックス変数」はclauseごとに$1$個しか選べない

\begin{center}
\begin{tabular}{ c| c c c c c c|c }
  $T_{1}$ & $1$ & $0$ & $0$ & $0$ & $1$ & $0$ & $0$\\
  $T_{2}$ & $0$ & $1$ & $0$ & $0$ & $1$ & $0$ & $0$\\
  $F_{3}$ & $0$ & $0$ & $1$ & $0$ & $0$ & $1$ & $0$\\
  $T_{4}$ & $0$ & $0$ & $0$ & $1$ & $0$ & $1$ & $0$\\
  \hline
  Sum & $1$ & $1$ & $1$ & $1$ & $2$ & $2$ & $0$\\
  \hline
  $S2_{1}$ & $0$ & $0$ & $0$ & $0$ & $2$ & $0$ & $1$\\
  $S2_{2}$ & $0$ & $0$ & $0$ & $0$ & $0$ & $2$ & $1$\\
  \hline
  Target & $1$ & $1$ & $1$ & $1$ & $4$ & $4$ & $2$\\
\end{tabular}
\end{center}

部分和問題はNPに属するNP-Hard問題であるので、NPC問題である。

\begin{thebibliography}{99}
\bibitem{McCabe} Paul McCabe，
	Subset-Sum，http://www.cs.toronto.edu/\~pmccabe/csc363-2005S/notes17.pdf, 2005
\end{thebibliography}
\end{document}


\end{document}